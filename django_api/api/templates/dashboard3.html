


    <!DOCTYPE HTML>
    <html>
    <head>
        <title>Flask-SocketIO Test</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js" integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ==" crossorigin="anonymous"></script> -->
        <script type="text/javascript" charset="utf-8">

// const jwtAccess = 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTY4OTYxNTUyNywiaWF0IjoxNjg5NjExOTI3LCJqdGkiOiI5N2Q1NGU0NDlmYmQ0OGU1OGY1ZmUxMDEwOTNjMjgyNyIsInVzZXJfaWQiOjJ9.83z48_iCZeJ0AzuxFj4vZqgU54V3QpXowi1xD5FK4H0';
const jwtRefresh = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTY5NDkzODQxNCwiaWF0IjoxNjg5NzU0NDE0LCJqdGkiOiI5ZGU0MjQyNzU3ZTA0NmQ1Yjk4ZGViZmJjNTkxMzA0MCIsInVzZXJfaWQiOjJ9.8Izh-s2-tVya8Yj6s5efCZSj1tin7mNh7JZtU74UTuI"
const access_token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjk4Mzk0NDE0LCJpYXQiOjE2ODk3NTQ0MTQsImp0aSI6IjAwNDcwZmY4NTNiZjRiOWJiZDlhNGU5MDU0ZjQ0NzMxIiwidXNlcl9pZCI6Mn0.wiy0SB5hYmHTaK5eOgd47MLnTouw2Mt_M9-CW1mWMAo";
const jwtAccess = 'Bearer ' + access_token;
function httpGet()
{
    var theUrl = "http://localhost:8000/api/dashboard/";

    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false, );
    xmlHttp.setRequestHeader('Authorization', jwtAccess);

    xmlHttp.send( null );
    return xmlHttp.responseText;
}

function logoutPost()
{
    var theUrl = "http://localhost:8000/api/logout/";

    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "POST", theUrl );
    xmlHttp.setRequestHeader("Accept", "application/json");
    xmlHttp.setRequestHeader("Content-Type", "application/json");
    xmlHttp.setRequestHeader('Authorization', jwtAccess);
    var body = JSON.stringify({
    refresh: access_token
  });

    xmlHttp.send( body );
    return xmlHttp.responseText;
}
function Dashboard()
{
    var theUrl = "../dashboard";

    // const myRequest = new Request();
    const myHeaders = new Headers();
    myHeaders.append("Accept", "application/json");
    myHeaders.append("Content-Type", "application/json");
    myHeaders.append('Authorization', jwtAccess);
    const myInit = {
  method: "GET",
  headers: myHeaders,
  mode: "cors",
  cache: "default",
};
const myRequest = new Request(theUrl, myInit);


fetch(myRequest)
  .then((response) => {
    if (response.status === 200) {
      return response.json();
    } else {
      throw new Error("Something went wrong on API server!");
    }
  })
  .then((response) => {
    console.debug(response);
    // â€¦
  })
  .catch((error) => {
    console.error(error);
  });

  };


        </script>
    </head>
    <body>
        <!-- <button onclick="httpGet()">Push me</button>
        <button onclick="logoutPost()">Logout</button> -->
        <button onclick="Dashboard()">Dashboard</button>

    </body>
    </html>