


    <!DOCTYPE HTML>
    <html>
    <head>
        <title>Flask-SocketIO Test</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js" integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ==" crossorigin="anonymous"></script>
        <script type="text/javascript" charset="utf-8">

// const jwtAccess = 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTY4OTYxNTUyNywiaWF0IjoxNjg5NjExOTI3LCJqdGkiOiI5N2Q1NGU0NDlmYmQ0OGU1OGY1ZmUxMDEwOTNjMjgyNyIsInVzZXJfaWQiOjJ9.83z48_iCZeJ0AzuxFj4vZqgU54V3QpXowi1xD5FK4H0';
const jwtRefresh = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTY5NDgwMDkwOSwiaWF0IjoxNjg5NjE2OTA5LCJqdGkiOiIzMTIxZWIxMzI4MjM0YjMxOWYxYzk5ZjY1NWFmY2U0MCIsInVzZXJfaWQiOjJ9.PrDR4R-OIHeby4N3ZrrlX35H1Kvw7PjFlS1_wXhBfiw"
const access_token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjk4MjU2OTA5LCJpYXQiOjE2ODk2MTY5MDksImp0aSI6ImFlYTgxN2U3MTg2NDQ4ZWFiYTMzMDA1N2ZjMWU0ZmRlIiwidXNlcl9pZCI6Mn0.mnFwJyajhfeMSdRDi4hWge6YdmQfm_9yG8EnYI_AkdI";
const jwtAccess = 'Bearer ' + access_token;
function httpGet()
{
    var theUrl = "http://localhost:8000/api/loggedin/";

    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false, );
    xmlHttp.setRequestHeader('Authorization', jwtAccess);

    xmlHttp.send( null );
    return xmlHttp.responseText;
}

function logoutPost()
{
    var theUrl = "http://localhost:8000/api/logout/";
    // var data = {"refresh": jwtRefresh}
    // var payload = JSON.stringify(data);

    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "POST", theUrl, false, );
    xmlHttp.setRequestHeader("Accept", "application/json");
    xmlHttp.setRequestHeader("Content-Type", "application/json");
    xmlHttp.setRequestHeader('Authorization', jwtAccess);
    var body = JSON.stringify({
    refresh: access_token
  });

    xmlHttp.send( body );
    return xmlHttp.responseText;
}

        </script>
    </head>
    <body>
        <button onclick="httpGet()">Push me</button>
        <button onclick="logoutPost()">Logout</button>
        <h1>Flask-SocketIO Test</h1>
        <p>
          Async mode is: <b>{{ async_mode }}</b><br>
          Current transport is: <b><span id="transport"></span></b><br>
          Average ping/pong latency: <b><span id="ping-pong"></span>ms</b>
        </p>
        <h2>Send:</h2>
    
        <form id="disconnect" method="POST" action="#">
            <input type="submit" value="Disconnect">
        </form>
    
        <h2>Receive:</h2>
        <div id="log"></div>
    </body>
    </html>